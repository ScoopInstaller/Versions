{
    "version": "3.5.0-8.4",
    "description": "A popular general-purpose scripting language that is especially suited to web development. (version 8.4)",
    "homepage": "https://xdebug.org/",
    "license": {
        "identifier": "Xdebug-1.03",
        "url": "https://xdebug.org/license"
    },
    "notes": [
        "Xdebug is already enabled if PHP 8.4 was installed through scoop!",
        "Otherwise add '$dir\\php_xdebug.dll' to your php.ini"
    ],
    "architecture": {
        "64bit": {
            "url": "https://github.com/xdebug/xdebug/releases/download/3.5.0/php_xdebug-3.5.0-8.4-ts-vs17-x86_64.zip",
            "hash": "d0cfa372aa92cea7c7dd19639e5137c364fe5593701655c62fba7c873bc956b5"
        }
    },
    "post_install": [
        "Rename-Item -Path \"$dir\\php_xdebug-3.5.0-8.4-ts-vs17-x86_64.dll\" -NewName \"php_xdebug.dll\" -Force",
        "Remove-Item \"$dir\\*\" -Exclude *.dll -Recurse -Force",
        "$phpconfd = \"$persist_dir\\..\\php84\\cli\\conf.d\"",
        "$ini = \"zend_extension=$dir\\php_xdebug.dll`n[xdebug]`nxdebug.mode=develop,debug`nxdebug.client_port=9003`nxdebug.start_with_request=trigger   # If you always want to use debug, set the value to 'yes'\"",
        "if(!(test-path $phpconfd\\xdebug.ini)) {",
        "    Write-Output \"Enabling extension $(Convert-Path $phpconfd)\\xdebug.ini\"",
        "    Add-Content -Value $ini -Path \"$phpconfd\\xdebug.ini\"",
        "} else {",
        "    Write-Host -f Yellow \"PHP 8.4 was not installed through scoop, you have to activate php_xdebug.dll manually! Add the following:`n\"",
        "    Write-Host -f Cyan \"$ini`n`n\"",
        "}"
    ],
    "checkver": {
        "url": "https://github.com/xdebug/xdebug/releases",
        "regex": "php_xdebug-([\\d.]+)-8\\.4-ts-vs17-x86_64\\.zip"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/xdebug/xdebug/releases/download/$version/php_xdebug-$version-ts-vs17-x86_64.zip"
            }
        },
        "hash": {
            "url": "https://github.com/xdebug/xdebug/releases",
            "regex": "sha256:([a-fA-F0-9]{64}).+?$basename"
        }
    }
}
